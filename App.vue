<script>
	// import { installPaymentInterceptor } from '@/utils/paymentGuard'

	export default {
		onLaunch: function() {
			console.log('App Launch')
			// 1) è®¡ç®—åŸºç¡€åœ°å€
			const env = process.env.NODE_ENV || 'development' // 'development' | 'production'
			const base = env === 'development'
			  ? 'http://localhost:8081/api'
			  : 'http://dada.natapp1.cc/api'
			
			// 2) å†™åˆ° App å®ä¾‹ï¼Œä¸ç”¨ getApp()
			this.globalData = this.globalData || {}
			this.globalData.BASE_URL = base.replace(/\/$/, '')
			
			// 3) å…œåº•åˆ° uniï¼ˆåˆ†åŒ…/å­ä¸Šä¸‹æ–‡ä¹Ÿå¯è¯»ï¼‰
			uni.$BASE_URL = this.globalData.BASE_URL
			
		console.log('ğŸŒ è®¾ç½® BASE_URL =', this.globalData.BASE_URL)  // <--- ç¡®è®¤æ—¥å¿—
		
		// installPaymentInterceptor()
		},
		onShow: function() {
			console.log('App Show')
		},
		onHide: function() {
			console.log('App Hide')
		},
		 onError(err) {
		    console.error('[App.onError]', err)
		  },
	}
</script>

<style>

/* éšè—å…¨å±€æ»šåŠ¨æ¡ */
::-webkit-scrollbar {
  display: none; /* Chromeã€Safari */
}

/* é€‚é…å…¶ä»–æµè§ˆå™¨ */
body {
  -ms-overflow-style: none;  /* IEã€Edge */
  scrollbar-width: none;     /* Firefox */
}	
		
/* 1) å­—ä½“ï¼ˆæœ‰æ™®æƒ ä½“æ–‡ä»¶å°±æ”¾ /static/fonts/ï¼Œæ²¡æœ‰ä¹Ÿèƒ½è·‘ï¼Œä¼šå›é€€ç³»ç»Ÿå­—ä½“ï¼‰ */
/* @font-face {
  font-family: 'AlibabaPuHuiTi';
  src: url('/static/fonts/AlibabaPuHuiTi-Regular.woff2') format('woff2'),
       url('/static/fonts/AlibabaPuHuiTi-Regular.woff') format('woff'),
       url('/static/fonts/AlibabaPuHuiTi-Regular.ttf') format('truetype');
  font-weight: 400; font-style: normal; font-display: swap;
}
@font-face {
  font-family: 'AlibabaPuHuiTi';
  src: url('/static/fonts/AlibabaPuHuiTi-Medium.woff2') format('woff2'),
       url('/static/fonts/AlibabaPuHuiTi-Medium.woff') format('woff'),
       url('/static/fonts/AlibabaPuHuiTi-Medium.ttf') format('truetype');
  font-weight: 500; font-style: normal; font-display: swap;
} */
page, view, text, button {
  font-family: AlibabaPuHuiTi, "PingFang SC", "Microsoft Yahei", Helvetica, Arial;
}

/* 2) è®¾è®¡ Tokensï¼ˆé¢œè‰²ã€å°ºå¯¸ã€å­—å·ç­‰ï¼‰ */
:root{
  --c-title:#222222; --c-sub:#AAAAAA; --c-tip:#666666;
  --c-green:#0DB63D; --c-green-light:#82ED71;
  --c-border:#E0E0E0; --c-line:#EAEAEA;
  --c-orange:#F4A33E; --c-disabled-bg:#E6E6E6; --c-disabled-txt:#B3B3B3;
  --pad-page:30rpx;
  --w-card:688rpx; --h-card:320rpx; --h-overlay:96rpx; --h-btn:96rpx; --r-btn:48rpx;
}

/* #ifdef H5 */
html, body, #app { height: 100%; }

/* ä¼˜å…ˆï¼šæ”¯æŒçš„æµè§ˆå™¨ä¼šç¨³å®šé¢„ç•™æ»šåŠ¨æ¡æ²Ÿæ§½ */
html, body {
  overflow-y: auto;
  scrollbar-gutter: stable both-edges; /* å…³é”® */
}

/* å…œåº•ï¼šä¸æ”¯æŒ scrollbar-gutter çš„æµè§ˆå™¨ï¼Œå¼ºåˆ¶æ€»æ˜¯æ˜¾ç¤ºçºµå‘æ»šåŠ¨æ¡ */
body { overflow-y: scroll; }
/* #endif */

</style>
